package org.rsb.tyr.models;

import java.util.Set;
import lombok.Data;
import org.springframework.data.neo4j.core.schema.GeneratedValue;
import org.springframework.data.neo4j.core.schema.Id;
import org.springframework.data.neo4j.core.schema.Node;
import org.springframework.data.neo4j.core.schema.Relationship;

/** Represents a person in the database. */
@Data
@Node
public class Person {
  /** Default id generated by neo4j. */
  @Id @GeneratedValue private long id;

  /** Name of the person. */
  private String name;

  private double score;

  /** Country of origin */
  @Relationship(type = "citizen_of", direction = Relationship.Direction.OUTGOING)
  private Country country;

  /** Crime commited by the person */
  @Relationship(type = "committed", direction = Relationship.Direction.OUTGOING)
  private Crime crime;

  @Relationship(type = "allegation", direction = Relationship.Direction.OUTGOING)
  private Set<Allegation> allegations;

  /**
   * Private constructor to force builder use.
   *
   * @param crime crime commited by the person
   * @param country country of origin
   * @param allegations allegation(s) against the person
   */
  Person(Crime crime, Country country, Set<Allegation> allegations, String name) {
    this.crime = crime;
    this.country = country;
    this.allegations = allegations;
    this.name = name;
  }
}
